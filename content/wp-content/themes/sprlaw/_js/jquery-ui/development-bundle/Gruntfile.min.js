module.exports=function(d){var h=["jquery.ui.core.js","jquery.ui.widget.js","jquery.ui.mouse.js","jquery.ui.draggable.js","jquery.ui.droppable.js","jquery.ui.resizable.js","jquery.ui.selectable.js","jquery.ui.sortable.js","jquery.ui.effect.js"],e=h.map(function(m){return"ui/"+m}).concat(a("ui/*.js").filter(function(m){return h.indexOf(m.substring(3))===-1})),j=a("ui/i18n/*.js"),k=["core","accordion","autocomplete","button","datepicker","dialog","menu","progressbar","resizable","selectable","slider","spinner","tabs","tooltip","theme"].map(function(m){return"themes/base/jquery.ui."+m+".css"}),i={options:{preserveComments:false},main:{options:{banner:b(e)},files:{"dist/jquery-ui.min.js":"dist/jquery-ui.js"}},i18n:{options:{banner:b(j)},files:{"dist/i18n/jquery-ui-i18n.min.js":"dist/i18n/jquery-ui-i18n.js"}}},l={options:{keepSpecialComments:0},main:{options:{keepSpecialComments:"*"},src:"dist/jquery-ui.css",dest:"dist/jquery-ui.min.css"}},c={all:["dist/jquery-ui.js","dist/jquery-ui.min.js"]};function g(m){return"dist/"+m.replace(/\.js$/,".min.js").replace(/ui\//,"minified/")}function a(m){return d.util._.pluck(d.file.expandMapping(m),"src").map(function(n){return n[0]})}e.concat(j).forEach(function(m){i[m]={options:{banner:b()},files:{}};i[m].files[g(m)]=m});k.forEach(function(m){l[m]={options:{banner:b()},src:m,dest:"dist/"+m.replace(/\.css$/,".min.css").replace(/themes\/base\//,"themes/base/minified/")}});e.forEach(function(m){c[m]=[m,g(m)]});d.loadNpmTasks("grunt-contrib-jshint");d.loadNpmTasks("grunt-contrib-uglify");d.loadNpmTasks("grunt-contrib-concat");d.loadNpmTasks("grunt-contrib-qunit");d.loadNpmTasks("grunt-contrib-csslint");d.loadNpmTasks("grunt-contrib-cssmin");d.loadNpmTasks("grunt-html");d.loadNpmTasks("grunt-compare-size");d.loadNpmTasks("grunt-git-authors");d.loadTasks("build/tasks");function f(m){return m.replace(/.+\/(.+?)>?$/,"$1")}function b(n){var m=n&&n.map(f);return"/*! <%= pkg.title || pkg.name %> - v<%= pkg.version %> - <%= grunt.template.today('isoDate') %>\n<%= pkg.homepage ? '* ' + pkg.homepage + '\\n' : '' %>"+(n?"* Includes: "+m.join(", ")+"\n":"")+"* Copyright <%= grunt.template.today('yyyy') %> <%= pkg.author.name %>; Licensed <%= _.pluck(pkg.licenses, 'type').join(', ') %> */\n"}d.initConfig({pkg:d.file.readJSON("package.json"),files:{dist:"<%= pkg.name %>-<%= pkg.version %>"},compare_size:c,concat:{ui:{options:{banner:b(e),stripBanners:{block:true}},src:e,dest:"dist/jquery-ui.js"},i18n:{options:{banner:b(j)},src:j,dest:"dist/i18n/jquery-ui-i18n.js"},css:{options:{banner:b(k),stripBanners:{block:true}},src:k,dest:"dist/jquery-ui.css"}},uglify:i,cssmin:l,htmllint:{all:d.file.expand(["demos/**/*.html","tests/**/*.html"]).filter(function(m){return !/(?:ajax\/content\d\.html|tabs\/data\/test\.html|tests\/unit\/core\/core\.html)/.test(m)})},copy:{dist_units_images:{src:"themes/base/images/*",strip:/^themes\/base\//,dest:"dist/"}},qunit:{files:a("tests/unit/**/*.html").filter(function(m){return !(/(all|index|test|dialog|dialog_deprecated|tooltip)\.html$/).test(m)})},jshint:{options:{jshintrc:true},all:["ui/*.js","Gruntfile.js","build/**/*.js","tests/unit/**/*.js"]},csslint:{base_theme:{src:"themes/base/*.css",options:{csslintrc:".csslintrc"}}}});d.registerTask("default",["lint","test"]);d.registerTask("lint",["asciilint","jshint","csslint","htmllint"]);d.registerTask("test",["qunit"]);d.registerTask("sizer",["concat:ui","uglify:main","compare_size:all"]);d.registerTask("sizer_all",["concat:ui","uglify","compare_size"]);d.registerTask("build",["concat","uglify","cssmin","copy:dist_units_images"])};