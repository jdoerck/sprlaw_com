String.prototype.has=function(a){return this.indexOf(a)>-1};function jsmin(l,p,d){if(p===undefined){p=l;l="";d=2}else{if(d===undefined||d<1||d>3){d=2}}if(l.length>0){l+="\n"}var q="",o="",k=-1,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",r="0123456789",n=c+r+"_$\\",i=k;function g(a){return a!=k&&(n.has(a)||a.charCodeAt(0)>126)}function e(){var a=i;if(e.i==e.l){return k}i=k;if(a==k){a=p.charAt(e.i);++e.i}if(a>=" "||a=="\n"){return a}if(a=="\r"){return"\n"}return" "}e.i=0;e.l=p.length;function s(){i=e();return i}function j(){var a=e();if(a=="/"){switch(s()){case"/":for(;;){a=e();if(a<="\n"){return a}}break;case"*":e();for(;;){switch(e()){case"*":if(s()=="/"){e();return" "}break;case k:throw"Error: Unterminated comment."}}break;default:return a}}return a}function h(b){var a=[];if(b==1){a.push(q)}if(b<3){q=o;if(q=="'"||q=='"'){for(;;){a.push(q);q=e();if(q==o){break}if(q<="\n"){throw"Error: unterminated string literal: "+q}if(q=="\\"){a.push(q);q=e()}}}}o=j();if(o=="/"&&"(,=:[!&|".has(q)){a.push(q);a.push(o);for(;;){q=e();if(q=="/"){break}else{if(q=="\\"){a.push(q);q=e()}else{if(q<="\n"){throw"Error: unterminated Regular Expression literal"}}}a.push(q)}o=j()}return a.join("")}function f(){var a=[];q="\n";a.push(h(3));while(q!=k){switch(q){case" ":if(g(o)){a.push(h(1))}else{a.push(h(2))}break;case"\n":switch(o){case"{":case"[":case"(":case"+":case"-":a.push(h(1));break;case" ":a.push(h(3));break;default:if(g(o)){a.push(h(1))}else{if(d==1&&o!="\n"){a.push(h(1))}else{a.push(h(2))}}}break;default:switch(o){case" ":if(g(q)){a.push(h(1));break}a.push(h(3));break;case"\n":if(d==1&&q!="\n"){a.push(h(1))}else{switch(q){case"}":case"]":case")":case"+":case"-":case'"':case"'":if(d==3){a.push(h(3))}else{a.push(h(1))}break;default:if(g(q)){a.push(h(1))}else{a.push(h(3))}}}break;default:a.push(h(1));break}}}return a.join("")}jsmin.oldSize=p.length;ret=f(p);jsmin.newSize=ret.length;return l+ret};